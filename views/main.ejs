<html>
<head>
    <title>Money Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .main-section {
      display: flex;
      align-items: flex-start;
      margin-top: 30px;
      padding: 0 20px;
    }
  
    .main-section img {
      width: 750px;
      height: 370px;
      margin-right: 20px;
    }
  
    .text-wrapper {
      margin-top: 50px;
      font-size: 20px;
    }
  
    .text1,
    .text2 {
      transition: opacity 0.5s ease-in-out;
      position: absolute;
    }
  
    .text2 {
      opacity: 0;
    }
  
    .main-section:hover .text1 {
      opacity: 0;
    }
  
    .main-section:hover .text2 {
      opacity: 1;
    }
  
    .chart-container {
      width: 800px;
      margin: 50px auto 0 auto;
      text-align: center;
    }
  
    canvas {
      max-width: 100%;
      height: auto;
    }
  </style>
  </head>
  
  <body>
    <h1 style="text-align: center;">Welcome to Money Tracker</h1>
  
  <div id="moneyAdCarousel" class="carousel slide my-4" data-bs-ride="carousel" style="max-width: 1000px; margin: auto;">
    <div class="carousel-inner rounded shadow" style="height: 100px;">
  
      <div class="carousel-item active">
        <div class="d-flex h-100">
          <img src="https://img.freepik.com/free-vector/businessman-checking-financial-graph_1150-35098.jpg"
            class="d-block" alt="Track Spending" style="height: 100%; width: auto;">
          <div class="p-3 bg-light w-100 d-flex flex-column justify-content-center">
            <h5 class="mb-1">Track Your Spending</h5>
            <p class="mb-2 small">Visualize where your money goes. Gain financial awareness in one glance.</p>
            <a href="#" class="btn btn-success btn-sm align-self-start">Learn More</a>
          </div>
        </div>
      </div>
  
      <div class="carousel-item">
        <div class="d-flex h-100">
          <img src="https://img.freepik.com/free-vector/investment-data-concept-illustration_114360-7304.jpg"
            class="d-block" alt="Budget Planner" style="height: 100%; width: auto;">
          <div class="p-3 bg-light w-100 d-flex flex-column justify-content-center">
            <h5 class="mb-1">Plan Your Budget</h5>
            <p class="mb-2 small">Stay ahead with customized monthly budgets and smart suggestions.</p>
            <a href="#" class="btn btn-primary btn-sm align-self-start">Start Planning</a>
          </div>
        </div>
      </div>
  
      <div class="carousel-item">
        <div class="d-flex h-100">
          <img
            src="https://img.freepik.com/free-vector/hand-drawn-flat-design-financial-tracker-illustration_23-2149156624.jpg"
            class="d-block" alt="Save Smart" style="height: 100%; width: auto;">
          <div class="p-3 bg-light w-100 d-flex flex-column justify-content-center">
            <h5 class="mb-1">Save Smarter</h5>
            <p class="mb-2 small">Get insights & tips tailored to your spending habits.</p>
            <a href="#" class="btn btn-warning btn-sm align-self-start">Explore Tips</a>
          </div>
        </div>
      </div>
  
    </div>
  </div>
  
    <nav class="navbar navbar-expand-md bg-dark sticky-top border-bottom" data-bs-theme="dark">
      <div class="container">
        <a class="navbar-brand d-md-none" href="#">Aperture</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvas">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvas">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title">Aperture</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav flex-grow-1 justify-content-between">
              <li class="nav-item"><a class="nav-link" href="/addexpense">Add</a></li>
              <li class="nav-item"><a class="nav-link" href="/views">View</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Features</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Support</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Pricing</a></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
  
    <!-- Image and Text Section -->
    <div class="main-section">
      <img src="images/budget.jpg" alt="Budget Image" style="border-radius: 10px;">
      <div class="text-wrapper">
        <p class="text1" style="font-weight: bold;">"Track every rupee, save every month."</p>
        <p class="text2 "style="font-weight: bold;">"Small savings today, big rewards tomorrow."</p>
      </div>
    </div>
  
    <!-- Pie Chart Section -->
    <div class="chart-container">
      <h2>Expense Distribution by Category</h2>
      <canvas id="expensePieChart" width="300" height="300"></canvas>
    </div>
   <script>
        const chartData = <%- JSON.stringify(typeof yourdata !== 'undefined' ? yourdata : []) %>;

        console.log("chartData from backend:", chartData); 

        const labels = chartData.map(item => item.category);
        const data = chartData.map(item => parseFloat(item.total));

        const ctx = document.getElementById('expensePieChart').getContext('2d');

        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Expense by Category',
                    data: data,
                    backgroundColor: [
                        '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'
                    ],
                    borderColor: '#fff',
                    borderWidth: 2
                }]
            },
            options: {
    responsive: false,
    maintainAspectRatio: false,
    plugins: {
        legend: { position: 'bottom' },
        title: { display: true, text: 'Expense Distribution' }
    }
}

        });
            const quoteText = document.getElementById("quoteText");

              const originalQuote = "Keep track, stay on track.";
              const hoverQuote = "Saving money is the first step to freedom.";

              quoteText.parentElement.addEventListener("mouseenter", () => {
                quoteText.textContent = hoverQuote;
              });

              quoteText.parentElement.addEventListener("mouseleave", () => {
                quoteText.textContent = originalQuote;
              });


              const carousel = new bootstrap.Carousel('#moneyAdCarousel', {
                  interval: 4000,
                  ride: 'carousel',
                  pause: false
                });
</script>

<footer class="bg-dark text-white mt-5 pt-4 pb-3">
  <div class="container text-center text-md-start">
    <div class="row">
      <!-- About -->
      <div class="col-md-4 mb-3">
        <h5>Money Tracker</h5>
        <p>Track every rupee, save smarter, and take control of your finances with ease.</p>
      </div>

      <!-- Quick Links -->
      <div class="col-md-4 mb-3">
        <h6>Quick Links</h6>
        <ul class="list-unstyled">
          <li><a href="/addexpense" class="text-white text-decoration-none">Add Expense</a></li>
          <li><a href="/views" class="text-white text-decoration-none">View Expenses</a></li>
          <li><a href="#" class="text-white text-decoration-none">Features</a></li>
          <li><a href="#" class="text-white text-decoration-none">Support</a></li>
        </ul>
      </div>

      <!-- Contact -->
      <div class="col-md-4 mb-3">
        <h6>Contact</h6>
        <p>Email: support@moneytracker.com</p>
        <p>Phone: +91-9876543210</p>
      </div>
    </div>
    <hr class="border-top border-light">
    <div class="text-center">
      <small>&copy; 2025 Money Tracker. All rights reserved.</small>
    </div>
  </div>
</footer>

</body>
</html>